# Logcat AI UI/UX 설계 문서

## 1. 디자인 철학
- **다크 모드 우선**: 개발 환경에 최적화된 다크 테마(qdarktheme) 적용.
- **정보 계층화**: 방대한 로그 데이터와 AI 분석 결과를 효율적으로 분리하여 인지 부하 감소.
- **반응형 레이아웃**: 위젯의 추가/삭제에 따라 유연하게 조절되는 그리드 대시보드.

## 2. 화면 전체 구성 (Layout)

```text
+-----------------------------------------------------------------------+
|  [Menu: Workspace | Settings]                                        |
+-----------------------------------------------------------------------+
|  [Current Project: repo-name (main)]  [Device: Emulator-5554] [Conn] |
+-----------------------------------------------------------------------+
| 이슈 설명: [ 결제 버튼 클릭 시 앱 멈춤 현상 분석 요청...             ] |
+-----------------------------------------------------------------------+
|  [📋 Log View] [📊 Dashboard] [🤖 AI Analysis]                      |
+-----------------------------------------------------------------------+
|                                                                       |
|                    [현재 선택된 탭의 내용]                            |
|                    (전체 화면을 활용)                                 |
|                                                                       |
|                                                                       |
+-----------------------------------------------------------------------+
|  [Status Bar: Project: repo-url | Branch: main | Device: Emulator-5554] |
+-----------------------------------------------------------------------+
```

### 탭별 상세 내용
- **📋 Log View**: 실시간 로그 스트리밍 (레벨별 색상 하이라이트)
- **📊 Dashboard**: CPU/MEM Graph, VHAL Event List, Custom Shell Output 등 확장형 위젯들
- **🤖 AI Analysis**: OpenCode 분석 리포트, Code Diff View, Chat Input

## 3. 주요 컴포넌트 상세

### 3.1. Menu Bar & Top Bar
- **Workspace 메뉴**: 
    - `Manage Workspaces...`: Workspace 관리 다이얼로그 열기 (Git URL 추가/삭제/선택).
    - `Load Project`: 현재 선택된 Workspace를 로드 (Git clone 및 인덱싱).
    - `Close Project`: 현재 프로젝트 닫기.
- **Top Bar**: 
    - 현재 로드된 프로젝트명/브랜치 표시 (읽기 전용).
    - 디바이스 선택 및 연결 버튼.
- **Status Indicator**: 
    - `Cloning`: 프로그레스 바 표시.
    - `Indexing`: OpenCode 분석 아이콘 애니메이션.
    - `Ready`: 녹색 체크 표시.

### 3.2. 메인 로그 테이블 (Log View)
- **열 구성**: `Time`, `Level`, `Display`, `Tag`, `Message`.
- **기능**:
    - 특정 로그 클릭 시 해당 시점의 리소스 상태(대시보드) 하이라이트.
    - 우클릭 메뉴: "이 구간 분석 요청", "이 태그 필터링", "이슈 설명에 추가".

### 3.3. 확장형 대시보드 (Extensible Dashboard)
- **그리드 시스템**: 사용자가 위젯을 드래그 앤 드롭하거나 크기를 조절할 수 있는 컨테이너.
- **기본 제공 위젯**:
    - `ResourceMonitorWidget`: 실시간 선형 그래프.
    - `VhalPropertyWidget`: 특정 속성값 실시간 디지털 수치 표시.
    - `AaosDisplaySwitcher`: 다중 디스플레이 로그 필터 토글 버튼.

### 3.4. AI 분석 패널 (OpenCode Side Panel)
- **분석 결과**: Markdown 렌더링을 지원하여 가독성 확보.
- **Diff View**: 제안된 코드 수정을 클릭하면 내장 에디터 혹은 팝업으로 Diff 표시.
- **Chat**: 분석 결과에 대해 연속적인 질문이 가능한 하단 고정 채팅창.

## 4. 인터랙션 시나리오

1. **로그 탐색 중 특이 사항 발견**: 사용자가 특정 로그 범위를 드래그.
2. **분석 트리거**: 플로팅 버튼 혹은 우클릭 메뉴로 "OpenCode 분석" 실행.
3. **맥락 전달**: 선택된 로그 + 이슈 설명 + 현재 로드된 소스 코드가 OpenCode로 전송.
4. **결과 피드백**: 사이드 패널에 분석 리포트가 나타나며, 수정이 필요한 소스 코드 파일명이 링크 형태로 표시됨.

## 5. 기술적 구현 전략 (PyQt6)
- **QThread**: 로그 수집(ADB)과 리소스 모니터링은 각각 별도 스레드에서 구동.
- **Signal/Slot**: 스레드에서 전달된 데이터를 UI 스레드에 안전하게 갱신.
- **QSS (Qt Style Sheets)**: `assets/styles/`에 정의된 스타일을 로드하여 일관된 룩앤필 유지.
